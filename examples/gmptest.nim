import gmp

proc myfact(n: int): GmpInt =
  result = 1.initGmpInt
  for i in 2..n:
    result = result * i

doAssert fact(1000) == myfact(1000)
#echo myfact(100000)

for i in 1..100:
  doAssert isOdd(i.initGmpInt ^ 314) != isEven(i ^ 2718)

doAssert binom(314, 99) == fact(314) div (fact(99) * fact(314-99))
let z = 24 ^ 100
doAssert 0 == (z and not z)
let z2 = 42 ^ 99
doAssert(z * z2 div gcd(z, z2) == lcm(z, z2))
doAssert divmod(z2, z) == (z2 div z, z2 mod z)
doAssert z2 > z
doAssert z * z >= z2
doAssert ((-10).initGmpInt ^ 100 > 0)

doAssert "2345298238947789177389172432978748914".initGmpInt ^ 5 == "70956206224718881206882160884632496989777540250365310424811552817279278920725739185998262889486233432301840769936498826555860351507839780210265154928177396567843854028515279531649824".initGmpInt
doAssert "234529823894778917738917243294325234321523454155134413478748914".initGmpInt * "1143258278974987239847289749827984246124354334554".initGmpInt == "268128162834251784345939620489860791504091771440057325541183640571078577131237535370902008852183753420920174356".initGmpInt
